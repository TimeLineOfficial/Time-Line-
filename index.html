<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIME LINE - Delivering Emotions On Time</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #FF6B6B;
            --primary-dark: #ff5252;
            --secondary: #4ECDC4;
            --secondary-dark: #3fd8d1;
            --dark: #121212;
            --darker: #0a0a0a;
            --light: #f8f9fa;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
            --gradient-hover: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
            --shadow: 0 10px 20px rgba(0,0,0,0.1);
            --shadow-hover: 0 15px 30px rgba(0,0,0,0.2);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --border-radius: 12px;
            --border-radius-sm: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: radial-gradient(circle at 10% 20%, rgba(31,31,31,0.8) 0%, rgba(18,18,18,1) 90%);
        }

        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Header styles */
        header {
            background: var(--darker);
            text-align: center;
            padding: 2rem 0;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow);
            z-index: 10;
            animation: fadeInDown 0.8s ease;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), #ff8c00, #ff6347);
            animation: rainbow 8s linear infinite;
        }

        @keyframes rainbow {
            0% {background-position: 0% 50%}
            50% {background-position: 100% 50%}
            100% {background-position: 0% 50%}
        }

        header h1 {
            margin: 0;
            color: var(--primary);
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(255,99,71,0.3);
            animation: pulse 2s infinite alternate;
        }

        @keyframes pulse {
            from {text-shadow: 0 0 10px rgba(255,99,71,0.3);}
            to {text-shadow: 0 0 20px rgba(255,99,71,0.6);}
        }

        header p {
            margin: 0.5rem 0 0;
            color: var(--light);
            font-size: 1.2rem;
            font-weight: 300;
            animation: fadeIn 1.5s ease;
        }

        /* Navigation */
        nav {
            background-color: rgba(31, 31, 31, 0.95);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: var(--transition);
            animation: fadeIn 1s ease;
        }

        nav.scrolled {
            padding: 0.5rem 0;
            background-color: rgba(10, 10, 10, 0.98);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            padding: 0;
            margin: 0;
            flex-wrap: wrap;
        }

        nav ul li {
            margin: 0.5rem 1rem;
            position: relative;
        }

        nav ul li::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }

        nav ul li:hover::after {
            width: 100%;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--light);
            font-weight: 500;
            font-size: 1rem;
            padding: 0.5rem 0;
            transition: var(--transition);
        }

        nav ul li a:hover {
            color: var(--primary);
        }

        /* Sections */
        .section {
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(20px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .section:nth-child(even) {
            background-color: rgba(31, 31, 31, 0.5);
        }

        .section h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
        }

        .section ul {
            list-style: none;
            max-width: 800px;
            margin: 0 auto 2rem;
            text-align: left;
        }

        .section ul li {
            padding: 0.8rem 0;
            position: relative;
            padding-left: 2rem;
            animation: fadeInUp 0.5s ease;
        }

        .section ul li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        .section ul li i {
            margin-right: 0.5rem;
            color: var(--primary);
        }

        /* Form styles */
        form {
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
            padding: 2rem;
            background-color: rgba(31, 31, 31, 0.8);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.05);
            animation: fadeInUp 0.8s ease;
        }

        form:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-5px);
        }

        form label {
            margin-top: 1rem;
            text-align: left;
            color: var(--light);
            font-weight: 500;
            display: flex;
            align-items: center;
            font-size: 15px;
        }

        form input, form textarea, form select, form button {
            margin-top: 0.5rem;
            padding: 0.8rem 1rem;
            border-radius: var(--border-radius-sm);
            border: 1px solid rgba(255,255,255,0.1);
            background-color: rgba(31, 31, 31, 0.8);
            color: var(--light);
            font-family: 'Poppins', sans-serif;
            transition: var(--transition);
            font-size: 15px;
        }

        form input:focus, form textarea:focus, form select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
        }

        form button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 14px;
            margin-top: 1.5rem;
            border-radius: var(--border-radius-sm);
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        form button:hover {
            background: var(--gradient-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        form button i {
            margin-left: 0.5rem;
        }

        form button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255,255,255,0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        form button:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        /* Info styles */
        .info {
            cursor: pointer;
            color: var(--primary);
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(255, 107, 107, 0.2);
            margin-left: 0.5rem;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .info:hover {
            background: rgba(255, 107, 107, 0.3);
            transform: scale(1.1);
        }

        /* Token styles */
        .token {
            color: #ffcc00;
            font-weight: bold;
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: rgba(255, 204, 0, 0.1);
            border-radius: 5px;
            display: inline-block;
            letter-spacing: 1px;
        }

        /* Service info */
        .service-info {
            color: var(--primary);
            font-weight: bold;
            background: rgba(255,99,71,0.1);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            animation: pulse 2s infinite;
        }

        .service-info i {
            margin-right: 0.5rem;
        }

        /* Floating animation */
        .floating {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% {transform: translateY(0px);}
            50% {transform: translateY(-10px);}
            100% {transform: translateY(0px);}
        }

        /* Upload section */
        .upload-section {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: rgba(31, 31, 31, 0.5);
            border-radius: var(--border-radius-sm);
            border: 1px dashed rgba(255,255,255,0.1);
            transition: var(--transition);
        }

        .upload-section:hover {
            border-color: var(--primary);
            background-color: rgba(31, 31, 31, 0.7);
        }

        .upload-section h3 {
            margin-top: 0;
            color: var(--primary);
            display: flex;
            align-items: center;
        }

        .upload-section h3 i {
            margin-right: 0.5rem;
        }

        .file-input-label {
            display: block;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(31, 31, 31, 0.5);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            border: 1px dashed rgba(255,255,255,0.1);
        }

        .file-input-label:hover {
            background: rgba(31, 31, 31, 0.7);
            border-color: var(--primary);
        }

        /* Total amount */
        .total-amount {
            background: linear-gradient(135deg, rgba(255,99,71,0.2), rgba(255,99,71,0.1));
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: var(--border-radius-sm);
            font-weight: bold;
            font-size: 1.3rem;
            color: white;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,99,71,0.2);
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from {box-shadow: 0 0 5px rgba(255,99,71,0.3);}
            to {box-shadow: 0 0 15px rgba(255,99,71,0.5);}
        }

        /* Company address */
        .company-address {
            background-color: rgba(31, 31, 31, 0.7);
            padding: 1.5rem;
            border-radius: var(--border-radius-sm);
            margin: 1.5rem 0;
            text-align: left;
            border-left: 4px solid var(--primary);
            transition: var(--transition);
        }

        .company-address:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .company-address h3 {
            margin-top: 0;
            color: var(--primary);
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }

        .company-address h3 i {
            margin-right: 0.5rem;
        }

        .company-address p {
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
        }

        .company-address p i {
            margin-right: 0.5rem;
            width: 20px;
            text-align: center;
        }

        /* Footer */
        footer {
            background-color: var(--darker);
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
            position: relative;
            animation: fadeIn 1s ease;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--gradient);
        }

        footer p {
            margin: 0;
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Ask button */
        #askButton {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: var(--transition);
            animation: fadeInRight 1s ease;
        }

        #askButton:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        #askButton i {
            font-size: 1.8rem;
        }

        /* Contact options */
        .contact-options {
            display: none;
            position: fixed;
            bottom: 8rem;
            right: 2rem;
            background-color: rgba(31, 31, 31, 0.95);
            padding: 1rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            z-index: 99;
            backdrop-filter: blur(10px);
            animation: fadeInUp 0.3s ease;
        }

        .contact-options button {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            margin: 0.5rem 0;
            padding: 0.8rem 1.5rem;
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
        }

        .contact-options button:hover {
            background: var(--primary);
            transform: translateX(-5px);
        }

        .contact-options button i {
            margin-right: 0.5rem;
        }

        /* Popup */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(31, 31, 31, 0.95);
            padding: 2rem;
            border-radius: var(--border-radius);
            z-index: 1001;
            box-shadow: var(--shadow-hover);
            max-width: 90%;
            width: 400px;
            text-align: center;
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }

        .popup p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .popup button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .popup button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Google login container */
        #google-login-container {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
            animation: fadeIn 1s ease;
        }

        /* User info */
        .user-info {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(31, 31, 31, 0.7);
            border-radius: var(--border-radius-sm);
            animation: fadeIn 1s ease;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 1rem;
        }

        .user-info span {
            font-weight: 500;
            flex-grow: 1;
        }

        .user-info button {
            margin-left: 1rem;
            background: rgba(255, 107, 107, 0.2);
            color: var(--primary);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
        }

        .user-info button:hover {
            background: rgba(255, 107, 107, 0.3);
        }

        /* Order count warning */
        .order-count-warning {
            color: var(--warning);
            background: rgba(255, 193, 7, 0.1);
            padding: 0.8rem;
            border-radius: var(--border-radius-sm);
            border-left: 4px solid var(--warning);
            margin: 1rem 0;
            display: flex;
            align-items: center;
            animation: fadeIn 1s ease;
        }

        .order-count-warning i {
            margin-right: 0.5rem;
        }

        /* Price tag */
        .price-tag {
            background: var(--gradient);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            margin-right: 0.5rem;
            font-weight: bold;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--darker);
            color: #fff;
            text-align: center;
            border-radius: var(--border-radius-sm);
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-size: 14px;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.2rem;
            }
            
            nav ul {
                justify-content: space-around;
            }
            
            nav ul li {
                margin: 0.3rem;
            }
            
            nav ul li a {
                font-size: 0.9rem;
            }
            
            .section {
                padding: 3rem 1rem;
            }
            
            .section h2 {
                font-size: 2rem;
            }
            
            form {
                padding: 1.5rem;
            }
            
            #askButton {
                width: 50px;
                height: 50px;
                bottom: 1.5rem;
                right: 1.5rem;
            }
            
            .contact-options {
                bottom: 7rem;
                right: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.8rem;
            }
            
            header p {
                font-size: 1rem;
            }
            
            nav ul li a {
                font-size: 0.8rem;
            }
            
            .section h2 {
                font-size: 1.8rem;
            }
            
            form {
                padding: 1rem;
            }
            
            .total-amount {
                font-size: 1.1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="animate__animated animate__fadeIn">
        <div class="logo">
            <h1>TIME LINE</h1>
            <p>Delivering Emotions On Time</p>
        </div>
    </header>
    
    <nav id="mainNav" class="animate__animated animate__fadeIn animate__delay-1s">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#order">Order Now</a></li>
            <li><a href="#price">Price</a></li>
            <li><a href="#policy">Policy</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>
    
    <section id="home" class="section">
        <h2 class="animate__animated animate__fadeInUp">Welcome to TIME LINE</h2>
        <p class="animate__animated animate__fadeInUp animate__delay-1s">Delivering emotions, surprises, and gifts to your loved ones on time.</p>
    </section>
    
    <section id="features" class="section">
        <h2 class="animate__animated animate__fadeInUp">Why Choose Us?</h2>
        <ul class="animate__animated animate__fadeInUp animate__delay-1s">
            <li><i class="fas fa-calendar-check"></i> Specific date and time delivery</li>
            <li><i class="fas fa-envelope-open-text"></i> Personalized message reading</li>
            <li><i class="fas fa-video"></i> Live delivery viewing via video call</li>
            <li><i class="fas fa-pen-fancy"></i> Handwritten or printed letters</li>
            <li><i class="fas fa-shield-alt"></i> Secure and reliable service</li>
        </ul>
        <p class="service-info floating animate__animated animate__pulse animate__infinite">
            <i class="fas fa-info-circle"></i> This service is currently available only in Varanasi and Chandauli.
        </p>
    </section>
    
    <section id="order" class="section">
        <h2 class="animate__animated animate__fadeInUp">Place Your Order</h2>
        
        <!-- Google Login Container -->
        <div id="google-login-container"></div>
        
        <!-- User Info Display -->
        <div id="user-info" class="user-info" style="display: none;">
            <img id="user-pic" src="" alt="User picture">
            <span id="user-name"></span>
            <button id="sign-out-button">Sign Out</button>
        </div>
        
        <!-- Order Limit Warning -->
        <div id="order-limit-warning" class="order-count-warning" style="display: none;">
            <i class="fas fa-exclamation-circle"></i> You've reached your limit of 2 orders in 24 hours. Please try again later.
        </div>
        
        <form id="orderForm" class="animate__animated animate__fadeInUp animate__delay-1s">
            <label for="customerName">Your Name (Optional):</label>
            <input type="text" id="customerName" name="customerName" placeholder="Leave blank for a random token">
            <p id="tokenDisplay" class="token"></p>
            
            <label for="phoneNumber">Your Phone Number:</label>
            <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="Enter your phone number" pattern="^[0-9]{10}$" required>
            
            <label for="photoUpload">Upload Photo <span class="info tooltip">?<span class="tooltiptext">This helps us better identify the recipient during delivery</span></span></label>
            <input type="file" id="photoUpload" name="photoUpload" accept="image/*">
            
            <label for="recipientName">Recipient's Name:</label>
            <input type="text" id="recipientName" name="recipientName" required>
            
            <label for="recipientPhoneNumber">Recipient's Phone Number (Optional):</label>
            <input type="tel" id="recipientPhoneNumber" name="recipientPhoneNumber" placeholder="Enter recipient's phone number" pattern="^[0-9]{10}$">
            
            <label for="address">Recipient's Address:</label>
            <textarea id="address" name="address" rows="3" required></textarea>
            
            <label for="district">District:</label>
            <select id="district" name="district" required>
                <option value="Varanasi">Varanasi</option>
                <option value="Chandauli">Chandauli</option>
            </select>
            
            <label for="state">State:</label>
            <select id="state" name="state" required>
                <option value="Uttar Pradesh">Uttar Pradesh</option>
            </select>
            
            <label for="pincode">Pin Code:</label>
            <input type="text" id="pincode" name="pincode" pattern="^[0-9]{6}$" required>
            
            <label for="itemType">Item Type:</label>
            <select id="itemType" name="itemType" required>
                <option value="">-- Select Item Type --</option>
                <option value="message">Message (Speak in front of Recipient)</option>
                <option value="writtenByTimeline">Letter written by Time Line (In Your Words)</option>
                <option value="itemsSendByCustomer">Items (Send by Customer)</option>
                <option value="itemsBuyByTimeline">Items (Buy by Time Line)</option>
            </select>
            
            <div id="additionalSections"></div>
            <div id="totalAmount" class="total-amount">Total Amount: ₹0</div>
            
            <label for="deliveryDate">Delivery Date:</label>
            <input type="date" id="deliveryDate" name="deliveryDate" required>
            
            <label for="deliveryTime">Delivery Time:</label>
            <input type="time" id="deliveryTime" name="deliveryTime" required>
            
            <label><input type="checkbox" id="liveDelivery" name="liveDelivery"> Check to see live/recorded delivery</label>
            <div id="liveDeliveryOptions"></div>
            
            <div class="company-address">
                <h3><i class="fas fa-map-marker-alt"></i> Our Office Address (For Item Drop-off):</h3>
                <p><i class="fas fa-building"></i> Time Line Office, Parle-G factory, Patanava</p>
                <p><i class="fas fa-industry"></i> Ramnagar industrial area, Ramnagar</p>
                <p><i class="fas fa-city"></i> Varanasi, Uttar Pradesh - 221008</p>
                <p><i class="fas fa-phone"></i> Contact: 7007677139 (Call/WhatsApp)</p>
                <p><i class="fas fa-envelope"></i> Email: timelinedeliveryofficial@gmail.com</p>
            </div>
            
            <button type="submit" id="submit-button">Proceed to Payment <i class="fas fa-arrow-right"></i></button>
        </form>
    </section>
    
    <section id="price" class="section">
        <h2 class="animate__animated animate__fadeInUp">Price List</h2>
        <ul class="animate__animated animate__fadeInUp animate__delay-1s">
            <li><span class="price-tag">₹249</span> Normal delivery (Including letters, Voice message, small gifts, etc)</li>
            <li><span class="price-tag">₹299</span> Items Delivery (Send by customer or buy by Time Line)</li>
        </ul>
        <div class="service-info">
            <p><i class="fas fa-info-circle"></i> All deliveries include specific acts like Singing, shayari, Confession, etc.</p>
            <p><i class="fas fa-clock"></i> All services completed in less than 15 minutes</p>
        </div>
    </section>
    
    <section id="policy" class="section">
        <h2 class="animate__animated animate__fadeInUp">Policy</h2>
        <ul class="animate__animated animate__fadeInUp animate__delay-1s">
            <li><i class="fas fa-undo"></i> <strong>Refund Policy:</strong> If delivery fails, the amount (excluding distance charges) will be refunded within twelve hours.</li>
            <li><i class="fas fa-box-open"></i> <strong>Return Policy:</strong> If the customer wants the parcel back, they must pay courier charges for retrieval and ₹20 extra for convenience charges.</li>
            <li><i class="fas fa-shield-alt"></i> <strong>Warranty:</strong> For items sent by customer, we'll record opening the package and refund full amount (excluding ₹100 fuel charge) if items are damaged/missing.</li>
        </ul>
    </section>
    
    <section id="contact" class="section">
        <h2 class="animate__animated animate__fadeInUp">Contact Us</h2>
        <div class="contact-cards animate__animated animate__fadeInUp animate__delay-1s">
            <div class="company-address">
                <h3><i class="fas fa-envelope"></i> Email</h3>
                <p><a href="mailto:timelinedeliveryofficial@gmail.com">timelinedeliveryofficial@gmail.com</a></p>
            </div>
            <div class="company-address">
                <h3><i class="fab fa-instagram"></i> Instagram</h3>
                <p><a href="https://www.instagram.com/time_line.official?igsh=MTZoaDYwb25wOWdkbw==" target="_blank">@time_line.official</a></p>
            </div>
            <div class="company-address">
                <h3><i class="fas fa-map-marked-alt"></i> Address</h3>
                <p>Time Line Office, Parle-G factory, Patanava</p>
                <p>Ramnagar industrial area, Ramnagar</p>
                <p>Varanasi, Uttar Pradesh, 221008</p>
            </div>
            <div class="company-address">
                <h3><i class="fas fa-phone-alt"></i> Contact</h3>
                <p>7007677139 (Call/WhatsApp)</p>
            </div>
        </div>
    </section>
    
    <footer class="animate__animated animate__fadeIn animate__delay-1s">
        <p>© 2025 TIME LINE. All Rights Reserved.</p>
    </footer>
    
    <button id="askButton" class="animate__animated animate__fadeInRight animate__delay-2s">
        <i class="fas fa-question"></i>
    </button>
    
    <div id="contactOptions" class="contact-options">
        <button onclick="redirectToInstagram()">
            <i class="fab fa-instagram"></i> Instagram
        </button>
        <button onclick="redirectToGmail()">
            <i class="fas fa-envelope"></i> Gmail
        </button>
        <button onclick="hideContactOptions()">
            <i class="fas fa-times"></i> Close
        </button>
    </div>
    
    <div id="popup" class="popup">
        <p id="popupMessage"></p>
        <button onclick="closePopup()">OK</button>
    </div>

    <script>
        // Supabase initialization
        const supabaseUrl = 'https://hseqvitreugkqgumgffa.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhzZXF2aXRyZXVna3FndW1nZmZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1MzY5MzUsImV4cCI6MjA2MDExMjkzNX0.p3qK1ojwxbfQBWVD_KIFVNuPveY6-rFs2gkKAJQshPo';
        
        const supabase = supabase.createClient(supabaseUrl, supabaseKey);
        
        // Global variables
        let currentUser = null;
        let userOrders = [];
        
        // Generate Random Alphanumeric Token
        function generateToken() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let token = '';
            for (let i = 0; i < 8; i++) {
                token += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return token;
        }
        
        // Initialize Google Sign-In
        function initializeGoogleSignIn() {
            google.accounts.id.initialize({
                client_id: 'YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com',
                callback: handleCredentialResponse,
                auto_select: false,
                cancel_on_tap_outside: true
            });
            
            google.accounts.id.renderButton(
                document.getElementById('google-login-container'),
                { 
                    theme: 'filled_blue', 
                    size: 'large',
                    width: '300',
                    text: 'continue_with',
                    shape: 'pill'
                }
            );
            
            google.accounts.id.prompt();
        }
        
        // Handle Google Sign-In Response
        async function handleCredentialResponse(response) {
            try {
                const userInfo = await verifyGoogleToken(response.credential);
                currentUser = {
                    id: userInfo.sub,
                    name: userInfo.name,
                    email: userInfo.email,
                    picture: userInfo.picture
                };
                
                displayUserInfo();
                checkOrderLimit();
                
                // Store user in localStorage
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            } catch (error) {
                showPopup('Error signing in with Google. Please try again.');
                console.error('Google Sign-In Error:', error);
            }
        }
        
        // Verify Google Token (mock function - in production, verify on your backend)
        async function verifyGoogleToken(token) {
            // In a real app, you would send this to your backend for verification
            // This is a simplified version for demo purposes
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            
            return JSON.parse(jsonPayload);
        }
        
        // Display User Info
        function displayUserInfo() {
            const userInfoDiv = document.getElementById('user-info');
            const userPic = document.getElementById('user-pic');
            const userName = document.getElementById('user-name');
            
            if (currentUser) {
                userInfoDiv.style.display = 'flex';
                userPic.src = currentUser.picture;
                userName.textContent = currentUser.name;
            } else {
                userInfoDiv.style.display = 'none';
            }
        }
        
        // Sign Out
        document.getElementById('sign-out-button').addEventListener('click', function() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            displayUserInfo();
            showPopup('You have been signed out.');
        });
        
        // Check Order Limit
        async function checkOrderLimit() {
            if (!currentUser) return;
            
            try {
                const { data, error } = await supabase
                    .from('orders')
                    .select('*')
                    .eq('user_id', currentUser.id)
                    .gte('created_at', new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString());
                
                if (error) throw error;
                
                userOrders = data || [];
                
                const orderLimitWarning = document.getElementById('order-limit-warning');
                const submitButton = document.getElementById('submit-button');
                
                if (userOrders.length >= 2) {
                    orderLimitWarning.style.display = 'block';
                    submitButton.disabled = true;
                    submitButton.style.opacity = '0.5';
                    submitButton.style.cursor = 'not-allowed';
                } else {
                    orderLimitWarning.style.display = 'none';
                    submitButton.disabled = false;
                    submitButton.style.opacity = '1';
                    submitButton.style.cursor = 'pointer';
                }
            } catch (error) {
                console.error('Error checking order limit:', error);
            }
        }
        
        // Store Order in Supabase
        async function storeOrder(orderData) {
            if (!currentUser) {
                showPopup('Please sign in with Google to place an order.');
                return false;
            }
            
            try {
                const { data, error } = await supabase
                    .from('orders')
                    .insert([
                        {
                            user_id: currentUser.id,
                            user_email: currentUser.email,
                            customer_name: orderData.customerName || document.getElementById('tokenDisplay').textContent.replace('Your Token: ', ''),
                            phone_number: orderData.phoneNumber,
                            recipient_name: orderData.recipientName,
                            recipient_phone: orderData.recipientPhoneNumber,
                            address: orderData.address,
                            district: orderData.district,
                            state: orderData.state,
                            pincode: orderData.pincode,
                            item_type: orderData.itemType,
                            delivery_date: orderData.deliveryDate,
                            delivery_time: orderData.deliveryTime,
                            live_delivery: orderData.liveDelivery || false,
                            total_amount: orderData.totalAmount,
                            status: 'pending'
                        }
                    ])
                    .select();
                
                if (error) throw error;
                
                // Upload photo if provided
                const photoFile = document.getElementById('photoUpload').files[0];
                if (photoFile) {
                    const fileExt = photoFile.name.split('.').pop();
                    const fileName = `${currentUser.id}_${Date.now()}.${fileExt}`;
                    const { error: uploadError } = await supabase
                        .storage
                        .from('customer-photos')
                        .upload(`orders/${fileName}`, photoFile);
                    
                    if (uploadError) throw uploadError;
                    
                    // Update order with photo URL
                    const { publicURL } = supabase
                        .storage
                        .from('customer-photos')
                        .getPublicUrl(`orders/${fileName}`);
                    
                    await supabase
                        .from('orders')
                        .update({ recipient_photo: publicURL })
                        .eq('id', data[0].id);
                }
                
                return true;
            } catch (error) {
                console.error('Error storing order:', error);
                showPopup('Error saving your order. Please try again.');
                return false;
            }
        }
        
        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Google Sign-In
            initializeGoogleSignIn();
            
            // Check if user is already signed in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                displayUserInfo();
                checkOrderLimit();
            }
            
            // Token generation
            const customerName = document.getElementById('customerName');
            const tokenDisplay = document.getElementById('tokenDisplay');
            
            customerName.addEventListener('blur', function() {
                if (this.value === "") {
                    tokenDisplay.textContent = "Your Token: " + generateToken();
                } else {
                    tokenDisplay.textContent = "";
                }
            });
            
            if (customerName.value === "") {
                tokenDisplay.textContent = "Your Token: " + generateToken();
            }
            
            // Set minimum delivery date and time
            setMinDeliveryTime();
            
            // Photo upload info
            document.getElementById("photoInfo").addEventListener("click", function(e) {
                e.preventDefault();
                showPopup("This photo is asked for better identification of recipient's during the time of delivery.");
            });
            
            // Live delivery options
            document.getElementById("liveDelivery").addEventListener("change", function() {
                const liveDeliveryOptions = document.getElementById("liveDeliveryOptions");
                if (this.checked) {
                    liveDeliveryOptions.innerHTML = `
                        <label for="deliveryMethod">Delivery Method:</label>
                        <select id="deliveryMethod" name="deliveryMethod" class="animate__animated animate__fadeIn">
                            <option value="videoCall">Live delivery on video call</option>
                            <option value="recorded">Recorded video of delivery</option>
                        </select>
                        <label for="platform">Choose Platform:</label>
                        <select id="platform" name="platform" class="animate__animated animate__fadeIn">
                            <option value="">-- Select Platform --</option>
                            <option value="whatsapp">WhatsApp</option>
                            <option value="googleMeet">Google Meet</option>
                            <option value="instagram">Instagram</option>
                        </select>
                        <div id="platformDetails" class="animate__animated animate__fadeIn"></div>
                    `;
                    
                    document.getElementById("platform").addEventListener("change", function() {
                        const platformDetails = document.getElementById("platformDetails");
                        switch (this.value) {
                            case 'whatsapp':
                                platformDetails.innerHTML = `
                                    <label for="whatsappNumber">Fill Your WhatsApp Number:</label>
                                    <input type="tel" id="whatsappNumber" name="whatsappNumber" placeholder="Enter your WhatsApp number" pattern="^[0-9]{10}$" required>
                                `;
                                break;
                            case 'googleMeet':
                                platformDetails.innerHTML = `
                                    <label for="email">Enter your Email:</label>
                                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                                `;
                                break;
                            case 'instagram':
                                platformDetails.innerHTML = `
                                    <label for="instagramId">Enter your Instagram ID:</label>
                                    <input type="text" id="instagramId" name="instagramId" placeholder="Enter your Instagram ID" required>
                                `;
                                break;
                            default:
                                platformDetails.innerHTML = '';
                                break;
                        }
                    });
                } else {
                    liveDeliveryOptions.innerHTML = '';
                }
            });
            
            // Item type selection
            document.getElementById("itemType").addEventListener("change", function() {
                const selectedItemType = this.value;
                const additionalSections = document.getElementById("additionalSections");
                const totalAmountDiv = document.getElementById("totalAmount");
                
                switch (selectedItemType) {
                    case 'message':
                    case 'writtenByTimeline':
                        additionalSections.innerHTML = `
                            <h3>Write Your Message</h3>
                            <textarea name="message" rows="4" placeholder="Write your message here..." required></textarea>
                            <div class="upload-section">
                                <h3><i class="fas fa-envelope"></i> Your Message (Optional) <span class="info" onclick="showMessageInfo()">?</span></h3>
                                <p>Upload an audio or video message to be played during delivery</p>
                                <label class="file-input-label">
                                    <i class="fas fa-file-audio"></i> Upload Audio (max 50MB): <input type="file" name="messageAudio" accept="audio/*">
                                </label>
                                <label class="file-input-label">
                                    <i class="fas fa-file-video"></i> Upload Video (max 200MB, MP4/MKV): <input type="file" name="messageVideo" accept="video/mp4,video/x-matroska">
                                </label>
                            </div>
                            <div class="upload-section">
                                <h3><i class="fas fa-clipboard-list"></i> Delivery Instructions <span class="info" onclick="showInstructionInfo()">?</span></h3>
                                <p>Write or record instructions for the delivery person (at least one required)</p>
                                <textarea name="instructions" rows="3" placeholder="Write your delivery instructions here..."></textarea>
                                <label class="file-input-label">
                                    <i class="fas fa-microphone"></i> Or Upload Audio Instructions (max 10MB): <input type="file" name="instructionAudio" accept="audio/*">
                                </label>
                            </div>
                        `;
                        totalAmountDiv.textContent = "Total Amount: ₹249";
                        break;
                    case 'itemsSendByCustomer':
                        additionalSections.innerHTML = `
                            <h3>Send Item At</h3>
                            <textarea rows="3" readonly>Time Line Office, Parle-G factory, Patanava, Ramnagar industrial area, Ramnagar, Varanasi, Uttar Pradesh, 221008</textarea>
                            <button type="button" onclick="copyAddress()" class="animate__animated animate__fadeIn">Copy Address</button>
                            <p class="instruction">Please write your token number on the delivery package for better identification.</p>
                            <div class="upload-section">
                                <h3><i class="fas fa-envelope"></i> Your Message (Optional) <span class="info" onclick="showMessageInfo()">?</span></h3>
                                <p>Upload an audio or video message to be played during delivery</p>
                                <label class="file-input-label">
                                    <i class="fas fa-file-audio"></i> Upload Audio (max 50MB): <input type="file" name="messageAudio" accept="audio/*">
                                </label>
                                <label class="file-input-label">
                                    <i class="fas fa-file-video"></i> Upload Video (max 200MB, MP4/MKV): <input type="file" name="messageVideo" accept="video/mp4,video/x-matroska">
                                </label>
                            </div>
                            <div class="upload-section">
                                <h3><i class="fas fa-clipboard-list"></i> Delivery Instructions <span class="info" onclick="showInstructionInfo()">?</span></h3>
                                <p>Write or record instructions for the delivery person (at least one required)</p>
                                <textarea name="instructions" rows="3" placeholder="Write your delivery instructions here..."></textarea>
                                <label class="file-input-label">
                                    <i class="fas fa-microphone"></i> Or Upload Audio Instructions (max 10MB): <input type="file" name="instructionAudio" accept="audio/*">
                                </label>
                            </div>
                            <label><input type="checkbox" id="claimWarranty" name="claimWarranty"> Claim Warranty <span class="info" onclick="showWarrantyInfo()">?</span></label>
                        `;
                        totalAmountDiv.textContent = "Total Amount: ₹299";
                        break;
                    case 'itemsBuyByTimeline':
                        additionalSections.innerHTML = `
                            <h3>Describe Your Product</h3>
                            <textarea name="productDescription" rows="4" placeholder="Describe your product..." required></textarea>
                            <h3>Product Price</h3>
                            <input type="number" id="productPrice" name="productPrice" placeholder="Enter estimated product price" required>
                            <p class="instruction">Please enter slightly higher amount than actual price as product may be available at higher rate in our area. If we get it cheaper, we'll refund the difference within 24 hours.</p>
                            <h3>Optional: Product Link</h3>
                            <input type="url" name="productLink" placeholder="Paste the product link here">
                            <div class="upload-section">
                                <h3><i class="fas fa-envelope"></i> Your Message (Optional) <span class="info" onclick="showMessageInfo()">?</span></h3>
                                <p>Upload an audio or video message to be played during delivery</p>
                                <label class="file-input-label">
                                    <i class="fas fa-file-audio"></i> Upload Audio (max 50MB): <input type="file" name="messageAudio" accept="audio/*">
                                </label>
                                <label class="file-input-label">
                                    <i class="fas fa-file-video"></i> Upload Video (max 200MB, MP4/MKV): <input type="file" name="messageVideo" accept="video/mp4,video/x-matroska">
                                </label>
                            </div>
                            <div class="upload-section">
                                <h3><i class="fas fa-clipboard-list"></i> Delivery Instructions <span class="info" onclick="showInstructionInfo()">?</span></h3>
                                <p>Write or record instructions for the delivery person (at least one required)</p>
                                <textarea name="instructions" rows="3" placeholder="Write your delivery instructions here..."></textarea>
                                <label class="file-input-label">
                                    <i class="fas fa-microphone"></i> Or Upload Audio Instructions (max 10MB): <input type="file" name="instructionAudio" accept="audio/*">
                                </label>
                            </div>
                        `;
                        document.getElementById("productPrice").addEventListener("input", updateTotalAmount);
                        updateTotalAmount();
                        break;
                    default:
                        additionalSections.innerHTML = '';
                        totalAmountDiv.textContent = "Total Amount: ₹0";
                        break;
                }
            });
            
            // Ask Button
            document.getElementById("askButton").addEventListener("click", function() {
                const contactOptions = document.getElementById("contactOptions");
                contactOptions.style.display = contactOptions.style.display === "block" ? "none" : "block";
            });
            
            // Form submission
            const form = document.getElementById("orderForm");
            
            form.addEventListener("submit", async function(event) {
                event.preventDefault();
                
                // Validate pincode
                const pincode = document.getElementById('pincode');
                if (!/^\d{6}$/.test(pincode.value)) {
                    showPopup("Pin code must be exactly 6 digits");
                    pincode.focus();
                    return;
                }
                
                // Validate delivery instructions
                const instructionsText = document.querySelector('textarea[name="instructions"]')?.value;
                const instructionAudio = document.querySelector('input[name="instructionAudio"]')?.files[0];
                if (!instructionsText && !instructionAudio) {
                    showPopup("Please provide delivery instructions (text or audio)");
                    return;
                }
                
                // Validate live delivery options
                const liveDeliveryChecked = document.getElementById('liveDelivery').checked;
                if (liveDeliveryChecked) {
                    const platform = document.getElementById('platform');
                    if (!platform || !platform.value) {
                        showPopup("Please select a platform for live delivery");
                        return;
                    }
                    
                    let valid = true;
                    
                    if (platform.value === 'whatsapp' && !document.getElementById('whatsappNumber').value) {
                        valid = false;
                        showPopup("Please enter your WhatsApp number for live delivery");
                    } else if (platform.value === 'googleMeet' && !document.getElementById('email').value) {
                        valid = false;
                        showPopup("Please enter your email for Google Meet live delivery");
                    } else if (platform.value === 'instagram' && !document.getElementById('instagramId').value) {
                        valid = false;
                        showPopup("Please enter your Instagram ID for live delivery");
                    }
                    
                    if (!valid) return;
                }
                
                // Validate file sizes
                const messageAudio = document.querySelector('input[name="messageAudio"]');
                if (messageAudio && messageAudio.files[0] && messageAudio.files[0].size > 50 * 1024 * 1024) {
                    showPopup("Message audio file must be less than 50MB");
                    return;
                }
                
                const messageVideo = document.querySelector('input[name="messageVideo"]');
                if (messageVideo && messageVideo.files[0]) {
                    if (messageVideo.files[0].size > 200 * 1024 * 1024) {
                        showPopup("Message video file must be less than 200MB");
                        return;
                    }
                    const validFormats = ['video/mp4', 'video/x-matroska'];
                    if (!validFormats.includes(messageVideo.files[0].type)) {
                        showPopup("Video must be in MP4 or MKV format");
                        return;
                    }
                }
                
                const instructionAudioFile = document.querySelector('input[name="instructionAudio"]');
                if (instructionAudioFile && instructionAudioFile.files[0] && instructionAudioFile.files[0].size > 10 * 1024 * 1024) {
                    showPopup("Instruction audio file must be less than 10MB");
                    return;
                }
                
                // Check order limit
                if (userOrders.length >= 2) {
                    showPopup('You have reached the maximum order limit (2 orders per 24 hours). Please try again later.');
                    return;
                }
                
                // Prepare order data
                const orderData = {
                    customerName: document.getElementById("customerName").value,
                    phoneNumber: document.getElementById("phoneNumber").value,
                    recipientName: document.getElementById("recipientName").value,
                    recipientPhoneNumber: document.getElementById("recipientPhoneNumber").value,
                    address: document.getElementById("address").value,
                    district: document.getElementById("district").value,
                    state: document.getElementById("state").value,
                    pincode: document.getElementById("pincode").value,
                    itemType: document.getElementById("itemType").value,
                    deliveryDate: document.getElementById("deliveryDate").value,
                    deliveryTime: document.getElementById("deliveryTime").value,
                    liveDelivery: document.getElementById("liveDelivery").checked,
                    totalAmount: calculateTotalAmount()
                };
                
                // Store order in Supabase
                const success = await storeOrder(orderData);
                if (success) {
                    // Store order details in localStorage for payment page
                    localStorage.setItem("orderDetails", JSON.stringify({
                        customerName: orderData.customerName || document.getElementById("tokenDisplay").textContent,
                        totalAmount: orderData.totalAmount
                    }));
                    
                    // Redirect to payment page
                    window.location.href = "payment.html";
                }
            });
            
            // Nav scroll effect
            window.addEventListener('scroll', function() {
                const nav = document.getElementById('mainNav');
                if (window.scrollY > 50) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
            });
        });
        
        // Helper functions
        function setMinDeliveryTime() {
            const now = new Date();
            const deliveryDate = document.getElementById('deliveryDate');
            const deliveryTime = document.getElementById('deliveryTime');
            
            // Set minimum date to today
            const today = now.toISOString().split('T')[0];
            deliveryDate.min = today;
            
            // Set minimum time to 2 hours from now
            now.setHours(now.getHours() + 2);
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const minTime = `${hours}:${minutes}`;
            
            if (deliveryDate.value === today) {
                deliveryTime.min = minTime;
            }
            
            deliveryDate.addEventListener('change', function() {
                if (this.value === today) {
                    deliveryTime.min = minTime;
                } else {
                    deliveryTime.removeAttribute('min');
                }
            });
        }
        
        function showInstructionInfo() {
            showPopup("Delivery instructions help our team understand how you want the delivery to be performed. Please provide clear instructions for the best experience.");
        }
        
        function showMessageInfo() {
            showPopup("Adding a personal message makes the delivery more special. You can record your voice or video message that will be played during delivery.");
        }
        
        function showWarrantyInfo() {
            showPopup("By claiming warranty, you authorize us to open your package upon arrival and record a video/pictures of the contents. If recipient reports any damage or missing items, we'll refund full amount (excluding ₹100 fuel charge).");
        }
        
        function copyAddress() {
            const addressText = document.querySelector('textarea[readonly]');
            addressText.select();
            document.execCommand('copy');
            showPopup("Address copied to clipboard!");
        }
        
        function showPopup(message) {
            const popup = document.getElementById('popup');
            document.getElementById('popupMessage').textContent = message;
            popup.style.display = 'block';
        }
        
        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
        
        function redirectToInstagram() {
            window.open("https://www.instagram.com/time_line.official", "_blank");
        }
        
        function redirectToGmail() {
            window.location.href = "mailto:timelinedeliveryofficial@gmail.com";
        }
        
        function hideContactOptions() {
            document.getElementById("contactOptions").style.display = "none";
        }
        
        function calculateTotalAmount() {
            const itemType = document.getElementById("itemType").value;
            let amount = 0;
            
            if (itemType === "message" || itemType === "writtenByTimeline") {
                amount = 249;
            } else if (itemType === "itemsSendByCustomer") {
                amount = 299;
            } else if (itemType === "itemsBuyByTimeline") {
                const productPrice = parseFloat(document.getElementById("productPrice").value) || 0;
                amount = 299 + productPrice;
            }
            
            document.getElementById("totalAmount").textContent = `Total Amount: ₹${amount}`;
            return amount;
        }
        
        function updateTotalAmount() {
            calculateTotalAmount();
        }
    </script>
</body>
</html>
